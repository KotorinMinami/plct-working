+ source /root/mugen/libs/locallibs/common_lib.sh
++ python3 --version
++ '[' 0 -eq 0 ']'
++ source /root/mugen/libs/locallibs/common_lib_python.sh
+ source /root/mugen/testcases/feature-test/secure_conf/common.sh
++ set +e
+ main
++ type -t post_test
+ '[' -n function ']'
+ trap post_test EXIT INT HUP TERM
+ rpm -qa
+ grep expect
++ type -t config_params
+ '[' -n '' ']'
++ type -t pre_test
+ '[' -n function ']'
+ pre_test
+ dnf install -y openscap
Last metadata expiration check: 1 day, 7:01:35 ago on Tue 21 Nov 2023 01:49:15 AM CST.
Dependencies resolved.
================================================================================
 Package             Architecture  Version                 Repository      Size
================================================================================
Installing:
 openscap            riscv64       1.3.7-1.oe2303          mainline       3.6 M
Installing dependencies:
 GConf2              riscv64       3.2.6-27.oe2303         mainline       984 k
 dbus-glib           riscv64       0.112-3.oe2303          mainline        98 k
 fakeroot            riscv64       1.30.1-1.oe2303         mainline        90 k
 fakeroot-libs       riscv64       1.30.1-1.oe2303         mainline        32 k
 nspr                riscv64       4.35.0-2.oe2303         mainline       116 k
 nss                 riscv64       3.85.0-2.oe2303         mainline       622 k
 nss-softokn         riscv64       3.85.0-2.oe2303         mainline       675 k
 nss-util            riscv64       3.85.0-2.oe2303         mainline       462 k
 rpmdevtools         noarch        8.10-9.oe2303           mainline        67 k
 xmlsec1             riscv64       1.2.37-1.oe2303         mainline       332 k

Transaction Summary
================================================================================
Install  11 Packages

Total download size: 7.0 M
Installed size: 81 M
Downloading Packages:
(1/11): dbus-glib-0.112-3.oe2303.riscv64.rpm     64 kB/s |  98 kB     00:01    
(2/11): fakeroot-1.30.1-1.oe2303.riscv64.rpm     58 kB/s |  90 kB     00:01    
(3/11): GConf2-3.2.6-27.oe2303.riscv64.rpm      565 kB/s | 984 kB     00:01    
(4/11): nspr-4.35.0-2.oe2303.riscv64.rpm        598 kB/s | 116 kB     00:00    
(5/11): fakeroot-libs-1.30.1-1.oe2303.riscv64.r 151 kB/s |  32 kB     00:00    
(6/11): nss-3.85.0-2.oe2303.riscv64.rpm         5.5 MB/s | 622 kB     00:00    
(7/11): nss-softokn-3.85.0-2.oe2303.riscv64.rpm 2.9 MB/s | 675 kB     00:00    
(8/11): nss-util-3.85.0-2.oe2303.riscv64.rpm    1.8 MB/s | 462 kB     00:00    
(9/11): openscap-1.3.7-1.oe2303.riscv64.rpm     5.9 MB/s | 3.6 MB     00:00    
(10/11): rpmdevtools-8.10-9.oe2303.noarch.rpm   141 kB/s |  67 kB     00:00    
(11/11): xmlsec1-1.2.37-1.oe2303.riscv64.rpm    762 kB/s | 332 kB     00:00    
--------------------------------------------------------------------------------
Total                                           2.7 MB/s | 7.0 MB     00:02     
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                        1/1 
  Installing       : nspr-4.35.0-2.oe2303.riscv64                          1/11 
  Installing       : nss-3.85.0-2.oe2303.riscv64                           2/11 
  Running scriptlet: nss-3.85.0-2.oe2303.riscv64                           2/11 
  Installing       : nss-util-3.85.0-2.oe2303.riscv64                      3/11 
  Installing       : nss-softokn-3.85.0-2.oe2303.riscv64                   4/11 
  Installing       : xmlsec1-1.2.37-1.oe2303.riscv64                       5/11 
  Running scriptlet: xmlsec1-1.2.37-1.oe2303.riscv64                       5/11 
  Installing       : fakeroot-libs-1.30.1-1.oe2303.riscv64                 6/11 
  Installing       : fakeroot-1.30.1-1.oe2303.riscv64                      7/11 
  Running scriptlet: fakeroot-1.30.1-1.oe2303.riscv64                      7/11 
  Installing       : rpmdevtools-8.10-9.oe2303.noarch                      8/11 
  Running scriptlet: dbus-glib-0.112-3.oe2303.riscv64                      9/11 
  Installing       : dbus-glib-0.112-3.oe2303.riscv64                      9/11 
  Running scriptlet: dbus-glib-0.112-3.oe2303.riscv64                      9/11 
  Installing       : GConf2-3.2.6-27.oe2303.riscv64                       10/11 
  Running scriptlet: GConf2-3.2.6-27.oe2303.riscv64                       10/11 
  Installing       : openscap-1.3.7-1.oe2303.riscv64                      11/11 
  Running scriptlet: openscap-1.3.7-1.oe2303.riscv64                      11/11 
  Verifying        : GConf2-3.2.6-27.oe2303.riscv64                        1/11 
  Verifying        : dbus-glib-0.112-3.oe2303.riscv64                      2/11 
  Verifying        : fakeroot-1.30.1-1.oe2303.riscv64                      3/11 
  Verifying        : fakeroot-libs-1.30.1-1.oe2303.riscv64                 4/11 
  Verifying        : nspr-4.35.0-2.oe2303.riscv64                          5/11 
  Verifying        : nss-3.85.0-2.oe2303.riscv64                           6/11 
  Verifying        : nss-softokn-3.85.0-2.oe2303.riscv64                   7/11 
  Verifying        : nss-util-3.85.0-2.oe2303.riscv64                      8/11 
  Verifying        : openscap-1.3.7-1.oe2303.riscv64                       9/11 
  Verifying        : rpmdevtools-8.10-9.oe2303.noarch                     10/11 
  Verifying        : xmlsec1-1.2.37-1.oe2303.riscv64                      11/11 

Installed:
  GConf2-3.2.6-27.oe2303.riscv64        dbus-glib-0.112-3.oe2303.riscv64       
  fakeroot-1.30.1-1.oe2303.riscv64      fakeroot-libs-1.30.1-1.oe2303.riscv64  
  nspr-4.35.0-2.oe2303.riscv64          nss-3.85.0-2.oe2303.riscv64            
  nss-softokn-3.85.0-2.oe2303.riscv64   nss-util-3.85.0-2.oe2303.riscv64       
  openscap-1.3.7-1.oe2303.riscv64       rpmdevtools-8.10-9.oe2303.noarch       
  xmlsec1-1.2.37-1.oe2303.riscv64      

Complete!
+ dnf install -y scap-security-guide
Last metadata expiration check: 1 day, 7:02:05 ago on Tue 21 Nov 2023 01:49:15 AM CST.
Dependencies resolved.
================================================================================
 Package                  Arch        Version               Repository     Size
================================================================================
Installing:
 scap-security-guide      noarch      0.1.49-3.oe2303       mainline       30 M
Installing dependencies:
 sgml-common              noarch      0.6.3-52.oe2303       mainline       52 k

Transaction Summary
================================================================================
Install  2 Packages

Total download size: 30 M
Installed size: 721 M
Downloading Packages:
(1/2): sgml-common-0.6.3-52.oe2303.noarch.rpm    48 kB/s |  52 kB     00:01    
(2/2): scap-security-guide-0.1.49-3.oe2303.noar 6.3 MB/s |  30 MB     00:04    
--------------------------------------------------------------------------------
Total                                           6.3 MB/s |  30 MB     00:04     
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                        1/1 
  Running scriptlet: sgml-common-0.6.3-52.oe2303.noarch                     1/2 
  Installing       : sgml-common-0.6.3-52.oe2303.noarch                     1/2 
  Installing       : scap-security-guide-0.1.49-3.oe2303.noarch             2/2 
  Running scriptlet: scap-security-guide-0.1.49-3.oe2303.noarch             2/2 
  Verifying        : scap-security-guide-0.1.49-3.oe2303.noarch             1/2 
  Verifying        : sgml-common-0.6.3-52.oe2303.noarch                     2/2 

Installed:
  scap-security-guide-0.1.49-3.oe2303.noarch sgml-common-0.6.3-52.oe2303.noarch

Complete!
++ type -t run_test
+ '[' -n function ']'
+ run_test
+ command -v oscap
/usr/bin/oscap
+ oscap xccdf eval --profile xccdf_org.ssgproject.content_profile_standard --results scan_results.xml --report scan_report.html /usr/share/xml/scap/ssg/content/ssg-openeuler2203-ds.xml
OpenSCAP Error: Unable to open file: '/usr/share/xml/scap/ssg/content/ssg-openeuler2203-ds.xml' [/home/abuild/rpmbuild/BUILD/openscap-1.3.7/src/source/oscap_source.c:288]
+ oe_err 'tool exec failed, please check'
+ LOG_ERROR 'tool exec failed, please check'
+ message='tool exec failed, please check'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level error --message 'tool exec failed, please check'
Wed Nov 22 08:52:50 2023 - ERROR - tool exec failed, please check
+ (( exec_result++ ))
+ test -f ./scan_report.html
+ oe_err 'scan_report.html not found'
+ LOG_ERROR 'scan_report.html not found'
+ message='scan_report.html not found'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level error --message 'scan_report.html not found'
Wed Nov 22 08:52:50 2023 - ERROR - scan_report.html not found
+ (( exec_result++ ))
+ test -f ./scan_results.xml
+ oe_err 'scan_results.xml not found'
+ LOG_ERROR 'scan_results.xml not found'
+ message='scan_results.xml not found'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level error --message 'scan_results.xml not found'
Wed Nov 22 08:52:51 2023 - ERROR - scan_results.xml not found
+ (( exec_result++ ))
+ CASE_RESULT 0
+ case_re=0
+ test -z 3
+ test 3 -gt 0
+ LOG_ERROR 'failed to execute the case.'
+ message='failed to execute the case.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level error --message 'failed to execute the case.'
Wed Nov 22 08:52:51 2023 - ERROR - failed to execute the case.
+ exit 3
+ post_test
+ dnf remove -y openscap scap-security-guide
Dependencies resolved.
================================================================================
 Package                 Arch        Version                Repository     Size
================================================================================
Removing:
 openscap                riscv64     1.3.7-1.oe2303         @mainline      66 M
 scap-security-guide     noarch      0.1.49-3.oe2303        @mainline     721 M
Removing unused dependencies:
 GConf2                  riscv64     3.2.6-27.oe2303        @mainline     6.3 M
 dbus-glib               riscv64     0.112-3.oe2303         @mainline     318 k
 fakeroot                riscv64     1.30.1-1.oe2303        @mainline     162 k
 fakeroot-libs           riscv64     1.30.1-1.oe2303        @mainline     125 k
 nspr                    riscv64     4.35.0-2.oe2303        @mainline     303 k
 nss                     riscv64     3.85.0-2.oe2303        @mainline     1.9 M
 nss-softokn             riscv64     3.85.0-2.oe2303        @mainline     2.5 M
 nss-util                riscv64     3.85.0-2.oe2303        @mainline     2.4 M
 rpmdevtools             noarch      8.10-9.oe2303          @mainline     180 k
 sgml-common             noarch      0.6.3-52.oe2303        @mainline     161 k
 xmlsec1                 riscv64     1.2.37-1.oe2303        @mainline     1.2 M

Transaction Summary
================================================================================
Remove  13 Packages

Freed space: 802 M
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                        1/1 
  Running scriptlet: scap-security-guide-0.1.49-3.oe2303.noarch             1/1 
  Erasing          : scap-security-guide-0.1.49-3.oe2303.noarch            1/13 
  Erasing          : sgml-common-0.6.3-52.oe2303.noarch                    2/13 
  Erasing          : openscap-1.3.7-1.oe2303.riscv64                       3/13 
  Running scriptlet: openscap-1.3.7-1.oe2303.riscv64                       3/13 
  Erasing          : rpmdevtools-8.10-9.oe2303.noarch                      4/13 
  Erasing          : xmlsec1-1.2.37-1.oe2303.riscv64                       5/13 
  Running scriptlet: xmlsec1-1.2.37-1.oe2303.riscv64                       5/13 
  Erasing          : nss-softokn-3.85.0-2.oe2303.riscv64                   6/13 
  Erasing          : nss-util-3.85.0-2.oe2303.riscv64                      7/13 
  Erasing          : nss-3.85.0-2.oe2303.riscv64                           8/13 
  Running scriptlet: nss-3.85.0-2.oe2303.riscv64                           8/13 
  Running scriptlet: fakeroot-1.30.1-1.oe2303.riscv64                      9/13 
  Erasing          : fakeroot-1.30.1-1.oe2303.riscv64                      9/13 
  Erasing          : GConf2-3.2.6-27.oe2303.riscv64                       10/13 
  Running scriptlet: GConf2-3.2.6-27.oe2303.riscv64                       10/13 
  Running scriptlet: dbus-glib-0.112-3.oe2303.riscv64                     11/13 
  Erasing          : dbus-glib-0.112-3.oe2303.riscv64                     11/13 
  Running scriptlet: dbus-glib-0.112-3.oe2303.riscv64                     11/13 
  Erasing          : fakeroot-libs-1.30.1-1.oe2303.riscv64                12/13 
  Erasing          : nspr-4.35.0-2.oe2303.riscv64                         13/13 
  Running scriptlet: nspr-4.35.0-2.oe2303.riscv64                         13/13 
  Verifying        : GConf2-3.2.6-27.oe2303.riscv64                        1/13 
  Verifying        : dbus-glib-0.112-3.oe2303.riscv64                      2/13 
  Verifying        : fakeroot-1.30.1-1.oe2303.riscv64                      3/13 
  Verifying        : fakeroot-libs-1.30.1-1.oe2303.riscv64                 4/13 
  Verifying        : nspr-4.35.0-2.oe2303.riscv64                          5/13 
  Verifying        : nss-3.85.0-2.oe2303.riscv64                           6/13 
  Verifying        : nss-softokn-3.85.0-2.oe2303.riscv64                   7/13 
  Verifying        : nss-util-3.85.0-2.oe2303.riscv64                      8/13 
  Verifying        : openscap-1.3.7-1.oe2303.riscv64                       9/13 
  Verifying        : rpmdevtools-8.10-9.oe2303.noarch                     10/13 
  Verifying        : scap-security-guide-0.1.49-3.oe2303.noarch           11/13 
  Verifying        : sgml-common-0.6.3-52.oe2303.noarch                   12/13 
  Verifying        : xmlsec1-1.2.37-1.oe2303.riscv64                      13/13 

Removed:
  GConf2-3.2.6-27.oe2303.riscv64                                                
  dbus-glib-0.112-3.oe2303.riscv64                                              
  fakeroot-1.30.1-1.oe2303.riscv64                                              
  fakeroot-libs-1.30.1-1.oe2303.riscv64                                         
  nspr-4.35.0-2.oe2303.riscv64                                                  
  nss-3.85.0-2.oe2303.riscv64                                                   
  nss-softokn-3.85.0-2.oe2303.riscv64                                           
  nss-util-3.85.0-2.oe2303.riscv64                                              
  openscap-1.3.7-1.oe2303.riscv64                                               
  rpmdevtools-8.10-9.oe2303.noarch                                              
  scap-security-guide-0.1.49-3.oe2303.noarch                                    
  sgml-common-0.6.3-52.oe2303.noarch                                            
  xmlsec1-1.2.37-1.oe2303.riscv64                                               

Complete!
