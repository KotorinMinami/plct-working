+ source /root/mugen/libs/locallibs/common_lib.sh
++ python3 --version
++ '[' 0 -eq 0 ']'
++ source /root/mugen/libs/locallibs/common_lib_python.sh
+ main
++ type -t post_test
+ '[' -n function ']'
+ trap post_test EXIT INT HUP TERM
+ rpm -qa
+ grep expect
++ type -t config_params
+ '[' -n '' ']'
++ type -t pre_test
+ '[' -n function ']'
+ pre_test
+ LOG_INFO 'Start to prepare the test environment.'
+ message='Start to prepare the test environment.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'Start to prepare the test environment.'
Wed Nov 22 00:56:47 2023 - INFO  - Start to prepare the test environment.
+ DNF_INSTALL units
+ pkgs=units
+ node=1
+ '[' -z '' ']'
+ tmpfile=
++ python3 /root/mugen/libs/locallibs/rpm_manage.py install --pkgs units --node 1 --tempfile ''
+ tmpfile2=/tmp/tmpzctg9m36
+ '[' -z '' ']'
+ tmpfile=/tmp/tmpzctg9m36
+ LOG_INFO 'End to prepare the test environment.'
+ message='End to prepare the test environment.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'End to prepare the test environment.'
Wed Nov 22 00:57:38 2023 - INFO  - End to prepare the test environment.
++ type -t run_test
+ '[' -n function ']'
+ run_test
+ LOG_INFO 'Start to run test.'
+ message='Start to run test.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'Start to run test.'
Wed Nov 22 00:57:38 2023 - INFO  - Start to run test.
+ units_cur -h
+ grep 'usage: units_cur'
usage: units_cur [-h] [-V] [-v]
+ CHECK_RESULT 0 0 0 'Check units_cur -h failed'
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log='Check units_cur -h failed'
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ units_cur --help
+ grep 'usage: units_cur'
usage: units_cur [-h] [-V] [-v]
+ CHECK_RESULT 0 0 0 'Check units_cur --help failed'
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log='Check units_cur --help failed'
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ units_cur -V
+ grep 'units_cur version [[:digit:]]'
units_cur version 5.0
+ CHECK_RESULT 0 0 0 'Check units_cur -V failed'
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log='Check units_cur -V failed'
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ grep 'units_cur version [[:digit:]]'
+ units_cur --version
units_cur version 5.0
+ CHECK_RESULT 0 0 0 'Check units_cur --version failed'
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log='Check units_cur --version failed'
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ units_cur -v
Got value "0.0016681530879443" for currency "XOF" but it is already defined as 1|655.957 euro
No data for CVE
No data for BAM
No data for KMF
No data for AFN
No data for ALL
No data for AOA
No data for AWG
No data for BBD
No data for BIF
No data for BMD
No data for BND
No data for BSD
No data for BTN
No data for BWP
No data for BZD
No data for CDF
No data for CUP
No data for DJF
No data for ERN
No data for ETB
No data for FJD
No data for FKP
No data for GHS
No data for GIP
No data for GMD
No data for GNF
No data for GTQ
No data for GYD
No data for HNL
No data for HRK
No data for JMD
No data for KES
No data for KHR
No data for KPW
No data for KYD
No data for LAK
No data for LRD
No data for LSL
No data for MGA
No data for MKD
No data for MMK
No data for MNT
No data for MOP
No data for MRU
No data for MUR
No data for MVR
No data for MWK
No data for MZN
No data for NAD
No data for NIO
No data for PGK
No data for RWF
No data for SBD
No data for SCR
No data for SDG
No data for SHP
No data for SLL
No data for SOS
No data for SRD
No data for SSP
No data for STD
No data for STN
No data for SVC
No data for SYP
No data for SZL
No data for TOP
No data for TTD
No data for TZS
No data for UGX
No data for VEF
No data for VUV
No data for WST
No data for XCD
No data for XDR
No data for YER
No data for ZMW
No data for ZWL
+ CHECK_RESULT 0 0 0 'Check units_cur -v failed'
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log='Check units_cur -v failed'
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ units_cur --verbose
Got value "0.0016681530879443" for currency "XOF" but it is already defined as 1|655.957 euro
No data for CVE
No data for BAM
No data for KMF
No data for AFN
No data for ALL
No data for AOA
No data for AWG
No data for BBD
No data for BIF
No data for BMD
No data for BND
No data for BSD
No data for BTN
No data for BWP
No data for BZD
No data for CDF
No data for CUP
No data for DJF
No data for ERN
No data for ETB
No data for FJD
No data for FKP
No data for GHS
No data for GIP
No data for GMD
No data for GNF
No data for GTQ
No data for GYD
No data for HNL
No data for HRK
No data for JMD
No data for KES
No data for KHR
No data for KPW
No data for KYD
No data for LAK
No data for LRD
No data for LSL
No data for MGA
No data for MKD
No data for MMK
No data for MNT
No data for MOP
No data for MRU
No data for MUR
No data for MVR
No data for MWK
No data for MZN
No data for NAD
No data for NIO
No data for PGK
No data for RWF
No data for SBD
No data for SCR
No data for SDG
No data for SHP
No data for SLL
No data for SOS
No data for SRD
No data for SSP
No data for STD
No data for STN
No data for SVC
No data for SYP
No data for SZL
No data for TOP
No data for TTD
No data for TZS
No data for UGX
No data for VEF
No data for VUV
No data for WST
No data for XCD
No data for XDR
No data for YER
No data for ZMW
No data for ZWL
+ CHECK_RESULT 0 0 0 'Check units_cur --verbose failed'
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log='Check units_cur --verbose failed'
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ units_cur -
+ grep '# ISO Currency Codes'
# ISO Currency Codes
+ CHECK_RESULT 0 0 0 'Check units_cur filename failed'
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log='Check units_cur filename failed'
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ LOG_INFO 'End to run test.'
+ message='End to run test.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'End to run test.'
Wed Nov 22 00:59:30 2023 - INFO  - End to run test.
+ CASE_RESULT 0
+ case_re=0
+ test -z ''
+ test 0 -eq 0
+ LOG_INFO 'succeed to execute the case.'
+ message='succeed to execute the case.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'succeed to execute the case.'
Wed Nov 22 00:59:31 2023 - INFO  - succeed to execute the case.
+ exec_result=
+ exit 0
+ post_test
+ LOG_INFO 'Start to restore the test environment.'
+ message='Start to restore the test environment.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'Start to restore the test environment.'
Wed Nov 22 00:59:31 2023 - INFO  - Start to restore the test environment.
+ DNF_REMOVE
+ node=1
+ pkg_list=
+ mode=0
+ [[ -z /tmp/tmpzctg9m36 ]]
+ '[' 0 -ne 0 ']'
+ '[' 1 == 0 ']'
+ python3 /root/mugen/libs/locallibs/rpm_manage.py remove --node 1 --pkgs '' --tempfile /tmp/tmpzctg9m36
+ '[' 0 -ne 0 ']'
+ LOG_INFO 'End to restore the test environment.'
+ message='End to restore the test environment.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'End to restore the test environment.'
Wed Nov 22 00:59:40 2023 - INFO  - End to restore the test environment.
