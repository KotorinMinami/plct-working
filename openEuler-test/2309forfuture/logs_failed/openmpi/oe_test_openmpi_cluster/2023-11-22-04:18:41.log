+ source /root/mugen/libs/locallibs/common_lib.sh
++ python3 --version
++ '[' 0 -eq 0 ']'
++ source /root/mugen/libs/locallibs/common_lib_python.sh
+ main
++ type -t post_test
+ '[' -n function ']'
+ trap post_test EXIT INT HUP TERM
+ rpm -qa
+ grep expect
++ type -t config_params
+ '[' -n '' ']'
++ type -t pre_test
+ '[' -n function ']'
+ pre_test
+ LOG_INFO 'Start to prepare the test environment.'
+ message='Start to prepare the test environment.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'Start to prepare the test environment.'
Wed Nov 22 04:18:43 2023 - INFO  - Start to prepare the test environment.
+ DNF_INSTALL 'openmpi openmpi-devel nfs-utils nfs-utils-devel'
+ pkgs='openmpi openmpi-devel nfs-utils nfs-utils-devel'
+ node=1
+ '[' -z '' ']'
+ tmpfile=
++ python3 /root/mugen/libs/locallibs/rpm_manage.py install --pkgs 'openmpi openmpi-devel nfs-utils nfs-utils-devel' --node 1 --tempfile ''
+ tmpfile2=/tmp/tmpe2s5_zr_
+ '[' -z '' ']'
+ tmpfile=/tmp/tmpe2s5_zr_
+ SSH_CMD 'dnf -y install openmpi openmpi-devel nfs-utils nfs-utils-devel' 192.168.114.7 'openEuler12#$' root
+ cmd='dnf -y install openmpi openmpi-devel nfs-utils nfs-utils-devel'
+ remoteip=192.168.114.7
+ remotepasswd='openEuler12#$'
+ remoteuser=root
+ timeout=300
+ connport=22
+ bash /root/mugen/libs/locallibs/sshcmd.sh -c 'dnf -y install openmpi openmpi-devel nfs-utils nfs-utils-devel' -i 192.168.114.7 -u root -p 'openEuler12#$' -t 300 -o 22
Wed Nov 22 04:21:05 2023 - WARN  - the remote user uses the default configuration.
Wed Nov 22 04:21:05 2023 - WARN  - the remote password uses the default configuration.
Wed Nov 22 04:21:06 2023 - WARN  - the connect port using the default configuration
spawn ssh -o ConnectTimeout=300 -p 22 root@192.168.114.7 dnf -y install openmpi openmpi-devel nfs-utils nfs-utils-devel
The authenticity of host '192.168.114.7 (192.168.114.7)' can't be established.
ED25519 key fingerprint is SHA256:d3NEC93wlISSHHHavxHVwkwHLorEgd5Sljeqj8h17Zw.
This key is not known by any other names.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added '192.168.114.7' (ED25519) to the list of known hosts.
root@192.168.114.7's password: 
Last metadata expiration check: 1 day, 2:31:57 ago on Tue 21 Nov 2023 01:49:15 AM CST.
Dependencies resolved.
================================================================================
 Package                    Arch      Version                  Repository  Size
================================================================================
Installing:
 nfs-utils                  riscv64   2:2.6.2-4.oe2303         mainline   298 k
 nfs-utils-devel            riscv64   2:2.6.2-4.oe2303         mainline    11 k
 openmpi                    riscv64   4.1.4-3.oe2303           mainline   2.1 M
 openmpi-devel              riscv64   4.1.4-3.oe2303           mainline   518 k
Installing dependencies:
 Lmod                       riscv64   8.7.4-2.oe2303           epol       244 k
 alsa-lib                   riscv64   1.2.8-1.oe2303           mainline   455 k
 copy-jdk-configs           noarch    4.0-1.oe2303             mainline    27 k
 ding-libs                  riscv64   0.6.1-45.oe2303          mainline    90 k
 gcc-gfortran               riscv64   10.3.1-25.oe2303         mainline   8.1 M
 giflib                     riscv64   5.2.1-6.oe2303           mainline    45 k
 gssproxy                   riscv64   0.9.1-1.oe2303           mainline    91 k
 hwloc                      riscv64   2.7.1-1.oe2303           mainline   281 k
 java-11-openjdk            riscv64   1:11.0.11.9-9.oe2303     mainline   212 k
 java-11-openjdk-devel      riscv64   1:11.0.11.9-9.oe2303     mainline   3.4 M
 java-11-openjdk-headless   riscv64   1:11.0.11.9-9.oe2303     mainline    35 M
 javapackages-filesystem    noarch    5.3.0-5.oe2303           mainline    11 k
 keyutils                   riscv64   1.6.3-5.oe2303           mainline    52 k
 krb5                       riscv64   1.20.1-1.oe2303          mainline    76 k
 libfabric                  riscv64   1.16.1-1.oe2303          mainline   545 k
 libfontenc                 riscv64   1.1.6-1.oe2303           mainline    18 k
 libgfortran                riscv64   10.3.1-25.oe2303         mainline   368 k
 libnfsidmap                riscv64   2:2.6.2-4.oe2303         mainline    60 k
 libpciaccess               riscv64   0.17-1.oe2303            mainline    24 k
 lksctp-tools               riscv64   1.0.19-2.oe2303          mainline    61 k
 lua-filesystem             riscv64   1.8.0-1.oe2303           mainline    16 k
 lua-json                   noarch    1.3.4-1.oe2303           mainline    27 k
 lua-lpeg                   riscv64   1.0.2-2.oe2303           mainline    64 k
 lua-posix                  riscv64   35.0-1.oe2303            mainline    94 k
 lua-term                   riscv64   0.07-2.oe2303            mainline    13 k
 munge-libs                 riscv64   0.5.14-1.oe2303          mainline    36 k
 opensm                     riscv64   3.3.24-1.oe2303          mainline   471 k
 pciutils                   riscv64   3.9.0-1.oe2303           mainline   112 k
 pmix                       riscv64   4.1.2-1.oe2303           mainline   565 k
 quota                      riscv64   1:4.06-7.oe2303          mainline   232 k
 rdma-core                  riscv64   41.0-8.oe2303            mainline   838 k
 rpcbind                    riscv64   1.2.6-5.oe2303           mainline    45 k
 tzdata-java                noarch    2022g-3.oe2303           mainline   143 k
 xorg-x11-font-utils        riscv64   1:7.5-44.oe2303          mainline    83 k
 xorg-x11-fonts-others      noarch    7.5-25.oe2303            mainline   7.4 M
Installing weak dependencies:
 nfs-utils-help             riscv64   2:2.6.2-4.oe2303         mainline   102 k

Transaction Summary
================================================================================
Install  40 Packages

Total download size: 62 M
Installed size: 207 M
Downloading Packages:
(1/40): copy-jdk-configs-4.0-1.oe2303.noarch.rp  18 kB/s |  27 kB     00:01    
(2/40): ding-libs-0.6.1-45.oe2303.riscv64.rpm    57 kB/s |  90 kB     00:01    
(3/40): alsa-lib-1.2.8-1.oe2303.riscv64.rpm     277 kB/s | 455 kB     00:01    
(4/40): giflib-5.2.1-6.oe2303.riscv64.rpm       261 kB/s |  45 kB     00:00    
(5/40): gssproxy-0.9.1-1.oe2303.riscv64.rpm     518 kB/s |  91 kB     00:00    
(6/40): gcc-gfortran-10.3.1-25.oe2303.riscv64.r 4.5 MB/s | 8.1 MB     00:01    
(7/40): hwloc-2.7.1-1.oe2303.riscv64.rpm        184 kB/s | 281 kB     00:01    
(8/40): java-11-openjdk-11.0.11.9-9.oe2303.risc 148 kB/s | 212 kB     00:01    
(9/40): javapackages-filesystem-5.3.0-5.oe2303.  39 kB/s |  11 kB     00:00    
(10/40): keyutils-1.6.3-5.oe2303.riscv64.rpm     96 kB/s |  52 kB     00:00    
(11/40): krb5-1.20.1-1.oe2303.riscv64.rpm        61 kB/s |  76 kB     00:01    
(12/40): java-11-openjdk-headless-11.0.11.9-9.o 1.5 MB/s |  35 MB     00:22    
(13/40): java-11-openjdk-devel-11.0.11.9-9.oe23 145 kB/s | 3.4 MB     00:23    
(14/40): libfabric-1.16.1-1.oe2303.riscv64.rpm   25 kB/s | 545 kB     00:21    
(15/40): libfontenc-1.1.6-1.oe2303.riscv64.rpm   15 kB/s |  18 kB     00:01    
(16/40): libgfortran-10.3.1-25.oe2303.riscv64.r 950 kB/s | 368 kB     00:00    
(17/40): libnfsidmap-2.6.2-4.oe2303.riscv64.rpm 170 kB/s |  60 kB     00:00    
(18/40): libpciaccess-0.17-1.oe2303.riscv64.rpm  65 kB/s |  24 kB     00:00    
(19/40): lksctp-tools-1.0.19-2.oe2303.riscv64.r 250 kB/s |  61 kB     00:00    
(20/40): lua-filesystem-1.8.0-1.oe2303.riscv64.  60 kB/s |  16 kB     00:00    
(21/40): lua-json-1.3.4-1.oe2303.noarch.rpm      87 kB/s |  27 kB     00:00    
(22/40): lua-lpeg-1.0.2-2.oe2303.riscv64.rpm    287 kB/s |  64 kB     00:00    
(23/40): lua-posix-35.0-1.oe2303.riscv64.rpm    292 kB/s |  94 kB     00:00    
(24/40): lua-term-0.07-2.oe2303.riscv64.rpm      45 kB/s |  13 kB     00:00    
(25/40): munge-libs-0.5.14-1.oe2303.riscv64.rpm 176 kB/s |  36 kB     00:00    
(26/40): nfs-utils-2.6.2-4.oe2303.riscv64.rpm   759 kB/s | 298 kB     00:00    
(27/40): nfs-utils-devel-2.6.2-4.oe2303.riscv64  29 kB/s |  11 kB     00:00    
(28/40): nfs-utils-help-2.6.2-4.oe2303.riscv64. 253 kB/s | 102 kB     00:00    
(29/40): openmpi-4.1.4-3.oe2303.riscv64.rpm     879 kB/s | 2.1 MB     00:02    
(30/40): openmpi-devel-4.1.4-3.oe2303.riscv64.r 201 kB/s | 518 kB     00:02    
(31/40): opensm-3.3.24-1.oe2303.riscv64.rpm     174 kB/s | 471 kB     00:02    
(32/40): pciutils-3.9.0-1.oe2303.riscv64.rpm    284 kB/s | 112 kB     00:00    
(33/40): pmix-4.1.2-1.oe2303.riscv64.rpm        1.1 MB/s | 565 kB     00:00    
(34/40): quota-4.06-7.oe2303.riscv64.rpm        620 kB/s | 232 kB     00:00    
(35/40): rdma-core-41.0-8.oe2303.riscv64.rpm    1.2 MB/s | 838 kB     00:00    
(36/40): rpcbind-1.2.6-5.oe2303.riscv64.rpm      94 kB/s |  45 kB     00:00    
(37/40): tzdata-java-2022g-3.oe2303.noarch.rpm  337 kB/s | 143 kB     00:00    
(38/40): xorg-x11-font-utils-7.5-44.oe2303.risc 1.0 MB/s |  83 kB     00:00    
(39/40): xorg-x11-fonts-others-7.5-25.oe2303.no 2.2 MB/s | 7.4 MB     00:03    
(40/40): Lmod-8.7.4-2.oe2303.riscv64.rpm         74 kB/s | 244 kB     00:03    
--------------------------------------------------------------------------------
Total                                           1.7 MB/s |  62 MB     00:35     
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Running scriptlet: copy-jdk-configs-4.0-1.oe2303.noarch                   1/1 
  Running scriptlet: java-11-openjdk-headless-1:11.0.11.9-9.oe2303.riscv6   1/1 
  Preparing        :                                                        1/1 
  Running scriptlet: rpcbind-1.2.6-5.oe2303.riscv64                        1/40 
  Installing       : rpcbind-1.2.6-5.oe2303.riscv64                        1/40 
  Running scriptlet: rpcbind-1.2.6-5.oe2303.riscv64                        1/40 
Created symlink /etc/systemd/system/multi-user.target.wants/rpcbind.service → /usr/lib/systemd/system/rpcbind.service.
Created symlink /etc/systemd/system/sockets.target.wants/rpcbind.socket → /usr/lib/systemd/system/rpcbind.socket.

  Installing       : lua-posix-35.0-1.oe2303.riscv64                       2/40 
  Installing       : libnfsidmap-2:2.6.2-4.oe2303.riscv64                  3/40 
  Installing       : libgfortran-10.3.1-25.oe2303.riscv64                  4/40 
  Installing       : keyutils-1.6.3-5.oe2303.riscv64                       5/40 
  Installing       : gcc-gfortran-10.3.1-25.oe2303.riscv64                 6/40 
  Installing       : copy-jdk-configs-4.0-1.oe2303.noarch                  7/40 
  Installing       : quota-1:4.06-7.oe2303.riscv64                         8/40 
  Running scriptlet: quota-1:4.06-7.oe2303.riscv64                         8/40 
  Installing       : tzdata-java-2022g-3.oe2303.noarch                     9/40 
  Installing       : pciutils-3.9.0-1.oe2303.riscv64                      10/40 
  Running scriptlet: pciutils-3.9.0-1.oe2303.riscv64                      10/40 
  Installing       : rdma-core-41.0-8.oe2303.riscv64                      11/40 
  Running scriptlet: rdma-core-41.0-8.oe2303.riscv64                      11/40 
  Installing       : libfabric-1.16.1-1.oe2303.riscv64                    12/40 
  Installing       : opensm-3.3.24-1.oe2303.riscv64                       13/40 
  Running scriptlet: opensm-3.3.24-1.oe2303.riscv64                       13/40 
  Installing       : nfs-utils-help-2:2.6.2-4.oe2303.riscv64              14/40 
  Installing       : munge-libs-0.5.14-1.oe2303.riscv64                   15/40 
  Installing       : lua-term-0.07-2.oe2303.riscv64                       16/40 
  Running scriptlet: lua-lpeg-1.0.2-2.oe2303.riscv64                      17/40 
  Installing       : lua-lpeg-1.0.2-2.oe2303.riscv64                      17/40 
  Running scriptlet: lua-lpeg-1.0.2-2.oe2303.riscv64                      17/40 
  Installing       : lua-json-1.3.4-1.oe2303.noarch                       18/40 
  Installing       : lua-filesystem-1.8.0-1.oe2303.riscv64                19/40 
  Installing       : Lmod-8.7.4-2.oe2303.riscv64                          20/40 
  Running scriptlet: lksctp-tools-1.0.19-2.oe2303.riscv64                 21/40 
  Installing       : lksctp-tools-1.0.19-2.oe2303.riscv64                 21/40 
  Running scriptlet: lksctp-tools-1.0.19-2.oe2303.riscv64                 21/40 
  Installing       : libpciaccess-0.17-1.oe2303.riscv64                   22/40 
  Running scriptlet: libpciaccess-0.17-1.oe2303.riscv64                   22/40 
  Installing       : hwloc-2.7.1-1.oe2303.riscv64                         23/40 
  Installing       : pmix-4.1.2-1.oe2303.riscv64                          24/40 
  Running scriptlet: pmix-4.1.2-1.oe2303.riscv64                          24/40 
  Installing       : libfontenc-1.1.6-1.oe2303.riscv64                    25/40 
  Installing       : xorg-x11-font-utils-1:7.5-44.oe2303.riscv64          26/40 
  Installing       : xorg-x11-fonts-others-7.5-25.oe2303.noarch           27/40 
  Running scriptlet: xorg-x11-fonts-others-7.5-25.oe2303.noarch           27/40 
  Installing       : krb5-1.20.1-1.oe2303.riscv64                         28/40 
  Running scriptlet: krb5-1.20.1-1.oe2303.riscv64                         28/40 
  Installing       : javapackages-filesystem-5.3.0-5.oe2303.noarch        29/40 
  Installing       : giflib-5.2.1-6.oe2303.riscv64                        30/40 
  Installing       : ding-libs-0.6.1-45.oe2303.riscv64                    31/40 
  Installing       : gssproxy-0.9.1-1.oe2303.riscv64                      32/40 
  Running scriptlet: gssproxy-0.9.1-1.oe2303.riscv64                      32/40 
  Running scriptlet: nfs-utils-2:2.6.2-4.oe2303.riscv64                   33/40 
  Installing       : nfs-utils-2:2.6.2-4.oe2303.riscv64                   33/40 
  Running scriptlet: nfs-utils-2:2.6.2-4.oe2303.riscv64                   33/40 
  Installing       : alsa-lib-1.2.8-1.oe2303.riscv64                      34/40 
  Installing       : java-11-openjdk-headless-1:11.0.11.9-9.oe2303.risc   35/40 
  Running scriptlet: java-11-openjdk-headless-1:11.0.11.9-9.oe2303.risc   35/40 
  Installing       : java-11-openjdk-1:11.0.11.9-9.oe2303.riscv64         36/40 
  Running scriptlet: java-11-openjdk-1:11.0.11.9-9.oe2303.riscv64         36/40 
  Installing       : java-11-openjdk-devel-1:11.0.11.9-9.oe2303.riscv64   37/40 
  Running scriptlet: java-11-openjdk-devel-1:11.0.11.9-9.oe2303.riscv64   37/40 
  Installing       : openmpi-4.1.4-3.oe2303.riscv64                       38/40 
  Running scriptlet: openmpi-4.1.4-3.oe2303.riscv64                       38/40 
  Installing       : openmpi-devel-4.1.4-3.oe2303.riscv64                 39/40 
  Installing       : nfs-utils-devel-2:2.6.2-4.oe2303.riscv64             40/40 
  Running scriptlet: copy-jdk-configs-4.0-1.oe2303.noarch                 40/40 
  Running scriptlet: java-11-openjdk-1:11.0.11.9-9.oe2303.riscv64         40/40 
  Running scriptlet: java-11-openjdk-devel-1:11.0.11.9-9.oe2303.riscv64   40/40 
  Running scriptlet: nfs-utils-devel-2:2.6.2-4.oe2303.riscv64             40/40 
/usr/lib/tmpfiles.d/dbus.conf:13: Line references path below legacy directory /var/run/, updating /var/run/dbus/containers → /run/dbus/containers; please update the tmpfiles.d/ drop-in file accordingly.

  Verifying        : alsa-lib-1.2.8-1.oe2303.riscv64                       1/40 
  Verifying        : copy-jdk-configs-4.0-1.oe2303.noarch                  2/40 
  Verifying        : ding-libs-0.6.1-45.oe2303.riscv64                     3/40 
  Verifying        : gcc-gfortran-10.3.1-25.oe2303.riscv64                 4/40 
  Verifying        : giflib-5.2.1-6.oe2303.riscv64                         5/40 
  Verifying        : gssproxy-0.9.1-1.oe2303.riscv64                       6/40 
  Verifying        : hwloc-2.7.1-1.oe2303.riscv64                          7/40 
  Verifying        : java-11-openjdk-1:11.0.11.9-9.oe2303.riscv64          8/40 
  Verifying        : java-11-openjdk-devel-1:11.0.11.9-9.oe2303.riscv64    9/40 
  Verifying        : java-11-openjdk-headless-1:11.0.11.9-9.oe2303.risc   10/40 
  Verifying        : javapackages-filesystem-5.3.0-5.oe2303.noarch        11/40 
  Verifying        : keyutils-1.6.3-5.oe2303.riscv64                      12/40 
  Verifying        : krb5-1.20.1-1.oe2303.riscv64                         13/40 
  Verifying        : libfabric-1.16.1-1.oe2303.riscv64                    14/40 
  Verifying        : libfontenc-1.1.6-1.oe2303.riscv64                    15/40 
  Verifying        : libgfortran-10.3.1-25.oe2303.riscv64                 16/40 
  Verifying        : libnfsidmap-2:2.6.2-4.oe2303.riscv64                 17/40 
  Verifying        : libpciaccess-0.17-1.oe2303.riscv64                   18/40 
  Verifying        : lksctp-tools-1.0.19-2.oe2303.riscv64                 19/40 
  Verifying        : lua-filesystem-1.8.0-1.oe2303.riscv64                20/40 
  Verifying        : lua-json-1.3.4-1.oe2303.noarch                       21/40 
  Verifying        : lua-lpeg-1.0.2-2.oe2303.riscv64                      22/40 
  Verifying        : lua-posix-35.0-1.oe2303.riscv64                      23/40 
  Verifying        : lua-term-0.07-2.oe2303.riscv64                       24/40 
  Verifying        : munge-libs-0.5.14-1.oe2303.riscv64                   25/40 
  Verifying        : nfs-utils-2:2.6.2-4.oe2303.riscv64                   26/40 
  Verifying        : nfs-utils-devel-2:2.6.2-4.oe2303.riscv64             27/40 
  Verifying        : nfs-utils-help-2:2.6.2-4.oe2303.riscv64              28/40 
  Verifying        : openmpi-4.1.4-3.oe2303.riscv64                       29/40 
  Verifying        : openmpi-devel-4.1.4-3.oe2303.riscv64                 30/40 
  Verifying        : opensm-3.3.24-1.oe2303.riscv64                       31/40 
  Verifying        : pciutils-3.9.0-1.oe2303.riscv64                      32/40 
  Verifying        : pmix-4.1.2-1.oe2303.riscv64                          33/40 
  Verifying        : quota-1:4.06-7.oe2303.riscv64                        34/40 
  Verifying        : rdma-core-41.0-8.oe2303.riscv64                      35/40 
  Verifying        : rpcbind-1.2.6-5.oe2303.riscv64                       36/40 
  Verifying        : tzdata-java-2022g-3.oe2303.noarch                    37/40 
  Verifying        : xorg-x11-font-utils-1:7.5-44.oe2303.riscv64          38/40 
  Verifying        : xorg-x11-fonts-others-7.5-25.oe2303.noarch           39/40 
  Verifying        : Lmod-8.7.4-2.oe2303.riscv64                          40/40 

Installed:
  Lmod-8.7.4-2.oe2303.riscv64                                                   
  alsa-lib-1.2.8-1.oe2303.riscv64                                               
  copy-jdk-configs-4.0-1.oe2303.noarch                                          
  ding-libs-0.6.1-45.oe2303.riscv64                                             
  gcc-gfortran-10.3.1-25.oe2303.riscv64                                         
  giflib-5.2.1-6.oe2303.riscv64                                                 
  gssproxy-0.9.1-1.oe2303.riscv64                                               
  hwloc-2.7.1-1.oe2303.riscv64                                                  
  java-11-openjdk-1:11.0.11.9-9.oe2303.riscv64                                  
  java-11-openjdk-devel-1:11.0.11.9-9.oe2303.riscv64                            
  java-11-openjdk-headless-1:11.0.11.9-9.oe2303.riscv64                         
  javapackages-filesystem-5.3.0-5.oe2303.noarch                                 
  keyutils-1.6.3-5.oe2303.riscv64                                               
  krb5-1.20.1-1.oe2303.riscv64                                                  
  libfabric-1.16.1-1.oe2303.riscv64                                             
  libfontenc-1.1.6-1.oe2303.riscv64                                             
  libgfortran-10.3.1-25.oe2303.riscv64                                          
  libnfsidmap-2:2.6.2-4.oe2303.riscv64                                          
  libpciaccess-0.17-1.oe2303.riscv64                                            
  lksctp-tools-1.0.19-2.oe2303.riscv64                                          
  lua-filesystem-1.8.0-1.oe2303.riscv64                                         
  lua-json-1.3.4-1.oe2303.noarch                                                
  lua-lpeg-1.0.2-2.oe2303.riscv64                                               
  lua-posix-35.0-1.oe2303.riscv64                                               
  lua-term-0.07-2.oe2303.riscv64                                                
  munge-libs-0.5.14-1.oe2303.riscv64                                            
  nfs-utils-2:2.6.2-4.oe2303.riscv64                                            
  nfs-utils-devel-2:2.6.2-4.oe2303.riscv64                                      
  nfs-utils-help-2:2.6.2-4.oe2303.riscv64                                       
  openmpi-4.1.4-3.oe2303.riscv64                                                
  openmpi-devel-4.1.4-3.oe2303.riscv64                                          
  opensm-3.3.24-1.oe2303.riscv64                                                
  pciutils-3.9.0-1.oe2303.riscv64                                               
  pmix-4.1.2-1.oe2303.riscv64                                                   
  quota-1:4.06-7.oe2303.riscv64                                                 
  rdma-core-41.0-8.oe2303.riscv64                                               
  rpcbind-1.2.6-5.oe2303.riscv64                                                
  tzdata-java-2022g-3.oe2303.noarch                                             
  xorg-x11-font-utils-1:7.5-44.oe2303.riscv64                                   
  xorg-x11-fonts-others-7.5-25.oe2303.noarch                                    

Complete!
+ ret=0
+ test 0 -ne 0
+ return 0
++ whereis openmpi
++ awk '{print$2}'
+ mpi_path=/usr/lib64/openmpi
+ echo 'export PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/lib64/openmpi/bin'
+ echo 'export LD_LIBRARY_PATH=:/usr/lib64/openmpi'
+ source /root/.bashrc
++ alias 'rm=rm -i'
++ alias 'cp=cp -i'
++ alias 'mv=mv -i'
++ '[' -f /etc/bashrc ']'
++ . /etc/bashrc
+++ '[' -z '' ']'
+++ BASHRCSOURCED=Y
+++ '[' '' ']'
+++ shopt -q login_shell
++++ umask
+++ '[' 0022 -eq 0 ']'
+++ SHELL=/bin/bash
+++ for i in /etc/profile.d/*.sh
+++ '[' -r /etc/profile.d/00-modulepath.sh ']'
+++ '[' '' ']'
+++ . /etc/profile.d/00-modulepath.sh
++++ '[' -z '' ']'
+++++ readlink /etc/alternatives/modules.sh
++++ '[' '' = /usr/share/lmod/lmod/init/profile -o -f /etc/profile.d/z00_lmod.sh ']'
++++ :
+++ for i in /etc/profile.d/*.sh
+++ '[' -r /etc/profile.d/alias.sh ']'
+++ '[' '' ']'
+++ . /etc/profile.d/alias.sh
++++ alias '..=cd ..'
++++ alias '...=cd ../..'
+++ for i in /etc/profile.d/*.sh
+++ '[' -r /etc/profile.d/color_grep.sh ']'
+++ '[' '' ']'
+++ . /etc/profile.d/color_grep.sh
++++ /usr/libexec/grepconf.sh -c
++++ alias 'grep=grep --color=auto'
++++ alias 'egrep=egrep --color=auto'
++++ alias 'fgrep=fgrep --color=auto'
+++ for i in /etc/profile.d/*.sh
+++ '[' -r /etc/profile.d/colorls.sh ']'
+++ '[' '' ']'
+++ . /etc/profile.d/colorls.sh
++++ '[' '!' -t 0 ']'
++++ return
+++ for i in /etc/profile.d/*.sh
+++ '[' -r /etc/profile.d/colorxzgrep.sh ']'
+++ '[' '' ']'
+++ . /etc/profile.d/colorxzgrep.sh
++++ /usr/libexec/grepconf.sh -c
++++ alias 'xzgrep=xzgrep --color=auto'
++++ alias 'xzegrep=xzegrep --color=auto'
++++ alias 'xzfgrep=xzfgrep --color=auto'
+++ for i in /etc/profile.d/*.sh
+++ '[' -r /etc/profile.d/colorzgrep.sh ']'
+++ '[' '' ']'
+++ . /etc/profile.d/colorzgrep.sh
++++ '[' -f /usr/libexec/grepconf.sh ']'
++++ /usr/libexec/grepconf.sh -c
++++ alias 'zgrep=zgrep --color=auto'
++++ alias 'zfgrep=zfgrep --color=auto'
++++ alias 'zegrep=zegrep --color=auto'
+++ for i in /etc/profile.d/*.sh
+++ '[' -r /etc/profile.d/gawk.sh ']'
+++ '[' '' ']'
+++ . /etc/profile.d/gawk.sh
+++ for i in /etc/profile.d/*.sh
+++ '[' -r /etc/profile.d/lang.sh ']'
+++ '[' '' ']'
+++ . /etc/profile.d/lang.sh
++++ unset LANG_backup
+++++ /usr/bin/locale
++++ '[' -n '' ']'
++++ LANG_backup=en_US.UTF-8
++++ for config in /etc/locale.conf "${HOME}/.i18n"
++++ '[' -f /etc/locale.conf ']'
++++ '[' -x /usr/bin/sed ']'
+++++ /usr/bin/sed -r -e 's/^[[:blank:]]*([[:upper:]_]+)=([[:print:][:digit:]\._-]+|"[[:print:][:digit:]\._-]+")/export \1=\2/;t;d' /etc/locale.conf
++++ eval export LANG=en_US.UTF-8
+++++ export LANG=en_US.UTF-8
+++++ LANG=en_US.UTF-8
++++ for config in /etc/locale.conf "${HOME}/.i18n"
++++ '[' -f /root/.i18n ']'
++++ '[' -n en_US.UTF-8 ']'
++++ LANG=en_US.UTF-8
++++ unset LANG_backup config
++++ '[' -n '' ']'
++++ '[' -n en_US.UTF-8 ']'
++++ '[' unknown = linux ']'
+++ for i in /etc/profile.d/*.sh
+++ '[' -r /etc/profile.d/system-info.sh ']'
+++ '[' '' ']'
+++ . /etc/profile.d/system-info.sh
+++++ uname -r
++++ welcome=6.1.19-2.oe2303.riscv64
+++++ cat /proc/meminfo
+++++ awk '/^MemTotal:/ {printf($2)}'
++++ memory_total=4031444
+++++ cat /proc/meminfo
+++++ awk '/^MemFree:/ { printf($2)}'
++++ memory_free=3453292
+++++ cat /proc/meminfo
+++++ awk '/^Buffers:/ { printf($2)}'
++++ buffers=20472
+++++ cat /proc/meminfo
+++++ awk '/^Cached:/ { printf($2)}'
++++ cached=418640
+++++ cat /proc/meminfo
+++++ awk '/^SReclaimable:/ { printf($2)}'
++++ sreclaimable=42728
+++++ cat /proc/meminfo
+++++ awk '/^SwapTotal:/ { printf($2)}'
++++ swap_total=0
+++++ cat /proc/meminfo
+++++ awk '/^SwapFree:/ { printf($2)}'
++++ swap_free=0
++++ [[ 4031444 -gt 0 ]]
+++++ echo 'scale=1; (4031444 - 3453292 - 20472 - 418640 - 42728) * 100.0 / 4031444'
+++++ bc
++++ memory_usage=2.3
++++ memory_usage=2.3%
++++ [[ 0 -gt 0 ]]
++++ swap_mem=0.0%
+++++ df -h /
+++++ awk '/\// {print $(NF-1)}'
++++ usageof=22%
+++++ awk '{print $1}' /proc/loadavg
++++ load_average=0.89
+++++ whoami
++++ whoiam=root
+++++ date
++++ time_cur='Wed Nov 22 04:23:17 AM CST 2023'
+++++ ps aux
+++++ wc -l
++++ processes=98
+++++ users
+++++ wc -w
++++ user_num=0
++++ ip_pre=
++++ '[' -x /sbin/ip ']'
+++++ /sbin/ip a
+++++ grep inet
+++++ grep -v 127.0.0.1
+++++ awk '{print $2}'
+++++ grep -v inet6
++++ ip_pre='192.168.114.3/24
10.0.2.15/24'
++++ echo -e '\n'
++++ echo -e 'Welcome to 6.1.19-2.oe2303.riscv64\n'
++++ echo -e 'System information as of time: \tWed Nov 22 04:23:17 AM CST 2023\n'
++++ echo -e 'System load: \t\033[0;33;40m0.89\033[0m'
++++ echo -e 'Processes: \t98'
++++ echo -e 'Memory used: \t2.3%'
++++ echo -e 'Swap used: \t0.0%'
++++ echo -e 'Usage On: \t22%'
++++ for line in $ip_pre
++++ ip_address=192.168.114.3
++++ echo -e 'IP address: \t192.168.114.3'
++++ for line in $ip_pre
++++ ip_address=10.0.2.15
++++ echo -e 'IP address: \t10.0.2.15'
++++ echo -e 'Users online: \t0'
++++ '[' root = root ']'
++++ echo -e '\n'
+++ unset i
+++ unset -f pathmunge
++ export PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/lib64/openmpi/bin
++ PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/lib64/openmpi/bin
++ export LD_LIBRARY_PATH=:/usr/lib64/openmpi
++ LD_LIBRARY_PATH=:/usr/lib64/openmpi
+ hostname node1
+ echo '192.168.114.3 node1'
+ echo '192.168.114.7 node2'
+ SSH_CMD '
    echo '\''export PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/lib64/openmpi/bin:/usr/lib64/openmpi/bin\nexport LD_LIBRARY_PATH=:/usr/lib64/openmpi:/usr/lib64/openmpi'\'' >> ~/.bashrc
    source ~/.bashrc
    hostname node2;
    echo '\''192.168.114.3 node1\n192.168.114.7 node2'\'' >> /etc/hosts;
    ' 192.168.114.7 'openEuler12#$' root
+ cmd='
    echo '\''export PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/lib64/openmpi/bin:/usr/lib64/openmpi/bin\nexport LD_LIBRARY_PATH=:/usr/lib64/openmpi:/usr/lib64/openmpi'\'' >> ~/.bashrc
    source ~/.bashrc
    hostname node2;
    echo '\''192.168.114.3 node1\n192.168.114.7 node2'\'' >> /etc/hosts;
    '
+ remoteip=192.168.114.7
+ remotepasswd='openEuler12#$'
+ remoteuser=root
+ timeout=300
+ connport=22
+ bash /root/mugen/libs/locallibs/sshcmd.sh -c '
    echo '\''export PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/lib64/openmpi/bin:/usr/lib64/openmpi/bin\nexport LD_LIBRARY_PATH=:/usr/lib64/openmpi:/usr/lib64/openmpi'\'' >> ~/.bashrc
    source ~/.bashrc
    hostname node2;
    echo '\''192.168.114.3 node1\n192.168.114.7 node2'\'' >> /etc/hosts;
    ' -i 192.168.114.7 -u root -p 'openEuler12#$' -t 300 -o 22
Wed Nov 22 04:23:18 2023 - WARN  - the remote user uses the default configuration.
Wed Nov 22 04:23:19 2023 - WARN  - the remote password uses the default configuration.
Wed Nov 22 04:23:19 2023 - WARN  - the connect port using the default configuration
spawn ssh -o ConnectTimeout=300 -p 22 root@192.168.114.7 
    echo 'export PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/lib64/openmpi/bin:/usr/lib64/openmpi/bin
export LD_LIBRARY_PATH=:/usr/lib64/openmpi:/usr/lib64/openmpi' >> ~/.bashrc
    source ~/.bashrc
    hostname node2;
    echo '192.168.114.3 node1
192.168.114.7 node2' >> /etc/hosts;
    
root@192.168.114.7's password: 
+ ret=0
+ test 0 -ne 0
+ return 0
+ ping -c 3 node2
PING node2 (192.168.114.7) 56(84) bytes of data.
64 bytes from node2 (192.168.114.7): icmp_seq=1 ttl=64 time=0.676 ms
64 bytes from node2 (192.168.114.7): icmp_seq=2 ttl=64 time=0.826 ms
64 bytes from node2 (192.168.114.7): icmp_seq=3 ttl=64 time=0.844 ms

--- node2 ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 2010ms
rtt min/avg/max/mdev = 0.676/0.782/0.844/0.075 ms
+ SSH_CMD 'ping -c 3 node1;rm -rf ~/.ssh/*;
    ' 192.168.114.7 'openEuler12#$' root
+ cmd='ping -c 3 node1;rm -rf ~/.ssh/*;
    '
+ remoteip=192.168.114.7
+ remotepasswd='openEuler12#$'
+ remoteuser=root
+ timeout=300
+ connport=22
+ bash /root/mugen/libs/locallibs/sshcmd.sh -c 'ping -c 3 node1;rm -rf ~/.ssh/*;
    ' -i 192.168.114.7 -u root -p 'openEuler12#$' -t 300 -o 22
Wed Nov 22 04:23:24 2023 - WARN  - the remote user uses the default configuration.
Wed Nov 22 04:23:24 2023 - WARN  - the remote password uses the default configuration.
Wed Nov 22 04:23:25 2023 - WARN  - the connect port using the default configuration
spawn ssh -o ConnectTimeout=300 -p 22 root@192.168.114.7 ping -c 3 node1;rm -rf ~/.ssh/*;
    
root@192.168.114.7's password: 
PING node1 (192.168.114.3) 56(84) bytes of data.
64 bytes from node1 (192.168.114.3): icmp_seq=1 ttl=64 time=1.46 ms
64 bytes from node1 (192.168.114.3): icmp_seq=2 ttl=64 time=0.692 ms
64 bytes from node1 (192.168.114.3): icmp_seq=3 ttl=64 time=0.662 ms

--- node1 ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 2007ms
rtt min/avg/max/mdev = 0.662/0.939/1.464/0.371 ms
+ ret=0
+ test 0 -ne 0
+ return 0
+ rm -rf /root/.ssh/known_hosts /root/.ssh/known_hosts.old
+ ssh-keygen -t rsa -P '' -f /root/.ssh/id_rsa
Generating public/private rsa key pair.
Your identification has been saved in /root/.ssh/id_rsa
Your public key has been saved in /root/.ssh/id_rsa.pub
The key fingerprint is:
SHA256:kGdDjsANPgFQS/HRqie5Lmjpm0eg4XEr/R2aH8W37cE root@node1
The key's randomart image is:
+---[RSA 3072]----+
|.o=+=+  .        |
| . +.+o=         |
|  . +.+ =        |
|.o ... +..       |
|o.=o.   So .     |
|.o++.  .. . +    |
|. ++. +..  . E   |
|ooo. + ..   . .  |
|o*+   ..     .   |
+----[SHA256]-----+
+ test -f /root/.ssh/id_rsa.pub
+ expect '-c
        log_file testlog
        spawn ssh-copy-id -i /root/.ssh/id_rsa.pub node2
        expect {
                "*)?"  {
                        send "yes\r"
                        exp_continue
                }
                "*assword:*"  {
                        send "openEuler12#$\r"
                        exp_continue
                }
    }
    '
spawn ssh-copy-id -i /root/.ssh/id_rsa.pub node2
/usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: "/root/.ssh/id_rsa.pub"
yes
The authenticity of host 'node2 (192.168.114.7)' can't be established.
ED25519 key fingerprint is SHA256:d3NEC93wlISSHHHavxHVwkwHLorEgd5Sljeqj8h17Zw.
This key is not known by any other names.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed
yes
/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys
yes
root@node2's password: 

Number of key(s) added: 1

Now try logging into the machine, with:   "ssh 'node2'"
and check to make sure that only the key(s) you wanted were added.

yes
+ rm -rf /home/mpi_volumn
+ mkdir -p /home/mpi_volumn
+ echo '/home/mpi_volumn 192.168.114.3 (rw,sync,no_root_squash,no_subtree_check,insecure)'
+ systemctl start nfs
+ systemctl stop firewalld
Failed to stop firewalld.service: Unit firewalld.service not loaded.
+ iptable -F
oe_test_openmpi_cluster.sh: line 65: iptable: command not found
+ SSH_CMD '
    rm -rf /home/mpi_volumn && mkdir -p /home/mpi_volumn;
    systemctl stop firewalld;
    mount -t nfs 192.168.114.3:/home/mpi_volumn /home/mpi_volumn;
    ' 192.168.114.7 'openEuler12#$' root
+ cmd='
    rm -rf /home/mpi_volumn && mkdir -p /home/mpi_volumn;
    systemctl stop firewalld;
    mount -t nfs 192.168.114.3:/home/mpi_volumn /home/mpi_volumn;
    '
+ remoteip=192.168.114.7
+ remotepasswd='openEuler12#$'
+ remoteuser=root
+ timeout=300
+ connport=22
+ bash /root/mugen/libs/locallibs/sshcmd.sh -c '
    rm -rf /home/mpi_volumn && mkdir -p /home/mpi_volumn;
    systemctl stop firewalld;
    mount -t nfs 192.168.114.3:/home/mpi_volumn /home/mpi_volumn;
    ' -i 192.168.114.7 -u root -p 'openEuler12#$' -t 300 -o 22
Wed Nov 22 04:23:45 2023 - WARN  - the remote user uses the default configuration.
Wed Nov 22 04:23:45 2023 - WARN  - the remote password uses the default configuration.
Wed Nov 22 04:23:46 2023 - WARN  - the connect port using the default configuration
spawn ssh -o ConnectTimeout=300 -p 22 root@192.168.114.7 
    rm -rf /home/mpi_volumn && mkdir -p /home/mpi_volumn;
    systemctl stop firewalld;
    mount -t nfs 192.168.114.3:/home/mpi_volumn /home/mpi_volumn;
    
The authenticity of host '192.168.114.7 (192.168.114.7)' can't be established.
ED25519 key fingerprint is SHA256:d3NEC93wlISSHHHavxHVwkwHLorEgd5Sljeqj8h17Zw.
This host key is known by the following other names/addresses:
    ~/.ssh/known_hosts:1: node2
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added '192.168.114.7' (ED25519) to the list of known hosts.
Failed to stop firewalld.service: Unit firewalld.service not loaded.
send: spawn id exp3 not open
    while executing
"send "openEuler12#$\r""
    invoked from within
"expect {
            "Are you sure you want to continue connecting*"
            {
                send "yes\r"
                expect "*\[P|p]assword..."
+ ret=1
+ test 1 -ne 0
+ LOG_ERROR 'Failed in remote CMD operation:1'
+ message='Failed in remote CMD operation:1'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level error --message 'Failed in remote CMD operation:1'
Wed Nov 22 04:23:49 2023 - ERROR - Failed in remote CMD operation:1
+ return 1
+ touch /home/mpi_volumn/hello_world
+ SSH_CMD 'test -f /home/mpi_volumn/hello_world || exit 1;
    ' 192.168.114.7 'openEuler12#$' root
+ cmd='test -f /home/mpi_volumn/hello_world || exit 1;
    '
+ remoteip=192.168.114.7
+ remotepasswd='openEuler12#$'
+ remoteuser=root
+ timeout=300
+ connport=22
+ bash /root/mugen/libs/locallibs/sshcmd.sh -c 'test -f /home/mpi_volumn/hello_world || exit 1;
    ' -i 192.168.114.7 -u root -p 'openEuler12#$' -t 300 -o 22
Wed Nov 22 04:23:49 2023 - WARN  - the remote user uses the default configuration.
Wed Nov 22 04:23:50 2023 - WARN  - the remote password uses the default configuration.
Wed Nov 22 04:23:50 2023 - WARN  - the connect port using the default configuration
spawn ssh -o ConnectTimeout=300 -p 22 root@192.168.114.7 test -f /home/mpi_volumn/hello_world || exit 1;
    
+ ret=0
+ test 0 -ne 0
+ return 0
+ cp -rf ./test.c /home/mpi_volumn/
+++ dirname oe_test_openmpi_cluster.sh
++ cd .
++ pwd
+ casepath=/root/mugen/testcases/cli-test/openmpi
+ LOG_INFO 'Finish preparing the test environment.'
+ message='Finish preparing the test environment.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'Finish preparing the test environment.'
Wed Nov 22 04:23:53 2023 - INFO  - Finish preparing the test environment.
++ type -t run_test
+ '[' -n function ']'
+ run_test
+ LOG_INFO 'Start to run test.'
+ message='Start to run test.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'Start to run test.'
Wed Nov 22 04:23:53 2023 - INFO  - Start to run test.
+ cd /home/mpi_volumn/
+ mpicc test.c -o testfile
+ test -f testfile
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
++ mpirun --allow-run-as-root -np 2 -host node1,node2 ./testfile
++ grep -c -e 'processor node1' -e 'processor node2'
+ test 2 -eq 2
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ printf 'node1 slots=2\nnode2 slots=2'
++ mpirun --allow-run-as-root --oversubscribe -np 4 -hostfile myhostfile ./testfile
++ grep -c -e 'processor node1' -e 'processor node2'
+ test 4 -eq 4
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
++ mpirun --allow-run-as-root --oversubscribe -np 2 -H node1,node2 -npersocket 1 ./testfile
++ grep -c -e 'processor node1' -e 'processor node2'
+ test 2 -eq 2
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
++ mpirun --allow-run-as-root --oversubscribe -np 2 -H node1,node2 -npernode 1 ./testfile
++ grep -c -e 'processor node1' -e 'processor node2'
+ test 2 -eq 2
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
++ mpirun --allow-run-as-root --oversubscribe -np 2 -H node1,node2 -pernode ./testfile
++ grep -c -e 'processor node1' -e 'processor node2'
+ test 2 -eq 2
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
++ mpirun --allow-run-as-root --oversubscribe -np 4 --byslot --hostfile myhostfile ./testfile
++ grep -c -e 'processor node1' -e 'processor node2'
+ test 4 -eq 4
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
++ mpirun --allow-run-as-root --mca rmaps_base_schedule_policy slot -np 4 ./testfile
++ grep -c 'processor node1'
+ test 4 -eq 4
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
++ mpirun --allow-run-as-root --oversubscribe -np 4 --bynode --hostfile myhostfile ./testfile
++ grep -c -e 'processor node1' -e 'processor node2'
+ test 4 -eq 4
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
++ mpirun --allow-run-as-root --mca rmaps_base_schedule_policy node -np 4 ./testfile
++ grep -c 'processor node1'
+ test 4 -eq 4
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ mkdir /tmp/bak_mpi_volumn
+ cp -r /home/mpi_volumn/testfile /tmp/bak_mpi_volumn
++ mpirun --allow-run-as-root --wdir /tmp/bak_mpi_volumn ./testfile
++ grep -c 'processor node1'
+ test 4 -eq 4
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ mpirun --allow-run-as-root -d ./testfile
+ grep MPIR_debug_state
  MPIR_debug_state = 1
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
++ mpirun --allow-run-as-root -np 4 --report-bindings --map-by core --bind-to core ./testfile
++ grep -c core
+ test 4 -eq 4
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ printf 'rank 0=node1 slot=1\nrank 1=node2 slot=1'
++ mpirun --allow-run-as-root --oversubscribe -H node1,node2 -rf myrankfile ./testfile
++ grep -c -e 'processor node1' -e 'processor node2'
+ test 2 -eq 2
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
++ mpirun --allow-run-as-root --prefix /usr/lib64/openmpi -H node2 ./testfile
++ grep -c 'processor node2'
+ test 1 -eq 1
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ ompi-clean -v
+ grep 'cleaning session'
+ CHECK_RESULT 1
+ actual_result=1
+ expect_result=0
+ mode=0
+ error_log=
+ exit_mode=0
+ '[' -z 1 ']'
+ '[' 0 -eq 0 ']'
+ test 1x '!=' 0x
+ test -n ''
+ (( exec_result++ ))
+ LOG_ERROR 'oe_test_openmpi_cluster.sh line 134'
+ message='oe_test_openmpi_cluster.sh line 134'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level error --message 'oe_test_openmpi_cluster.sh line 134'
Wed Nov 22 04:24:48 2023 - ERROR - oe_test_openmpi_cluster.sh line 134
+ '[' 0 -eq 1 ']'
+ return 0
+ ompi-clean -d
+ grep 'user(pid)=0'
+ CHECK_RESULT 1
+ actual_result=1
+ expect_result=0
+ mode=0
+ error_log=
+ exit_mode=0
+ '[' -z 1 ']'
+ '[' 0 -eq 0 ']'
+ test 1x '!=' 0x
+ test -n ''
+ (( exec_result++ ))
+ LOG_ERROR 'oe_test_openmpi_cluster.sh line 136'
+ message='oe_test_openmpi_cluster.sh line 136'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level error --message 'oe_test_openmpi_cluster.sh line 136'
Wed Nov 22 04:24:48 2023 - ERROR - oe_test_openmpi_cluster.sh line 136
+ '[' 0 -eq 1 ']'
+ return 0
+ SLEEP_WAIT 1
+ wait_time=1
+ cmd=
+ mode=1
+ python3 /root/mugen/libs/locallibs/sleep_wait.py --time 1 --cmd '' --mode 1
+ ompi-dvm --allow-run-as-root -report-uri dvm_uri
+ grep 192.168.114.3 dvm_uri
grep: dvm_uri: No such file or directory
+ CHECK_RESULT 2
+ actual_result=2
+ expect_result=0
+ mode=0
+ error_log=
+ exit_mode=0
+ '[' -z 2 ']'
+ '[' 0 -eq 0 ']'
+ test 2x '!=' 0x
+ test -n ''
+ (( exec_result++ ))
+ LOG_ERROR 'oe_test_openmpi_cluster.sh line 140'
+ message='oe_test_openmpi_cluster.sh line 140'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level error --message 'oe_test_openmpi_cluster.sh line 140'
Wed Nov 22 04:24:50 2023 - ERROR - oe_test_openmpi_cluster.sh line 140
+ '[' 0 -eq 1 ']'
+ return 0
+ SLEEP_WAIT 1
+ wait_time=1
+ cmd=
+ mode=1
+ python3 /root/mugen/libs/locallibs/sleep_wait.py --time 1 --cmd '' --mode 1
+ ompi-server -d
+ grep 'up and running' ./ompi-server.result
[node1:02144] [[17160,0],0] orte-server: up and running!
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ ompi-server -r server_uri
+ SLEEP_WAIT 1
+ wait_time=1
+ cmd=
+ mode=1
+ python3 /root/mugen/libs/locallibs/sleep_wait.py --time 1 --cmd '' --mode 1
+ grep 192.168.114.3 server_uri
1125056512.0;tcp://192.168.114.3,10.0.2.15:48867
+ CHECK_RESULT 0
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log=
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ LOG_INFO 'End of the test.'
+ message='End of the test.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'End of the test.'
Wed Nov 22 04:24:54 2023 - INFO  - End of the test.
+ CASE_RESULT 0
+ case_re=0
+ test -z 3
+ test 3 -gt 0
+ LOG_ERROR 'failed to execute the case.'
+ message='failed to execute the case.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level error --message 'failed to execute the case.'
Wed Nov 22 04:24:55 2023 - ERROR - failed to execute the case.
+ exit 3
+ post_test
+ LOG_INFO 'Start to restore the test environment.'
+ message='Start to restore the test environment.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'Start to restore the test environment.'
Wed Nov 22 04:24:55 2023 - INFO  - Start to restore the test environment.
+ pkill -9 ompi
+ cd /root/mugen/testcases/cli-test/openmpi
+ hostname localhost
oe_test_openmpi_cluster.sh: line 152:  2144 Killed                  ompi-server -d > ./ompi-server.result 2>&1  (wd: /home/mpi_volumn)
+ rm -rf /home/mpi_volumn /etc/exports ./testlog /tmp/bak_mpi_volumn
+ sed -i /node/d /etc/hosts
+ sed -i /openmpi/d /root/.bashrc
+ source /root/.bashrc
++ alias 'rm=rm -i'
++ alias 'cp=cp -i'
++ alias 'mv=mv -i'
++ '[' -f /etc/bashrc ']'
++ . /etc/bashrc
+++ '[' -z Y ']'
+ DNF_REMOVE
+ node=1
+ pkg_list=
+ mode=0
+ [[ -z /tmp/tmpe2s5_zr_ ]]
+ '[' 0 -ne 0 ']'
+ '[' 1 == 0 ']'
+ python3 /root/mugen/libs/locallibs/rpm_manage.py remove --node 1 --pkgs '' --tempfile /tmp/tmpe2s5_zr_
+ '[' 0 -ne 0 ']'
+ SSH_CMD 'umount -f /home/mpi_volumn;
    hostname localhost;sed -i '\''/node/d'\'' /etc/hosts;
    sed -i '\''/openmpi/d'\'' ~/.bashrc
    source ~/.bashrc
    ' 192.168.114.7 'openEuler12#$' root
+ cmd='umount -f /home/mpi_volumn;
    hostname localhost;sed -i '\''/node/d'\'' /etc/hosts;
    sed -i '\''/openmpi/d'\'' ~/.bashrc
    source ~/.bashrc
    '
+ remoteip=192.168.114.7
+ remotepasswd='openEuler12#$'
+ remoteuser=root
+ timeout=300
+ connport=22
+ bash /root/mugen/libs/locallibs/sshcmd.sh -c 'umount -f /home/mpi_volumn;
    hostname localhost;sed -i '\''/node/d'\'' /etc/hosts;
    sed -i '\''/openmpi/d'\'' ~/.bashrc
    source ~/.bashrc
    ' -i 192.168.114.7 -u root -p 'openEuler12#$' -t 300 -o 22
Wed Nov 22 04:25:22 2023 - WARN  - the remote user uses the default configuration.
Wed Nov 22 04:25:22 2023 - WARN  - the remote password uses the default configuration.
Wed Nov 22 04:25:23 2023 - WARN  - the connect port using the default configuration
spawn ssh -o ConnectTimeout=300 -p 22 root@192.168.114.7 umount -f /home/mpi_volumn;
    hostname localhost;sed -i '/node/d' /etc/hosts;
    sed -i '/openmpi/d' ~/.bashrc
    source ~/.bashrc
    
can't read "expect_out(buffer)": no such variable
    while executing
"end_user "connection to 192.168.114.7 timed out: $expect_out(buffer)\n""
    invoked from within
"expect {
            "Are you sure you want to continue connecting*"
            {
                send "yes\r"
                expect "*\[P|p]assword..."
+ ret=1
+ test 1 -ne 0
+ LOG_ERROR 'Failed in remote CMD operation:1'
+ message='Failed in remote CMD operation:1'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level error --message 'Failed in remote CMD operation:1'
Wed Nov 22 04:30:23 2023 - ERROR - Failed in remote CMD operation:1
+ return 1
+ REMOTE_REBOOT_WAIT 192.168.114.7 'openEuler12#$' root
+ node=192.168.114.7
+ waittime='openEuler12#$'
+ '[' 'openEuler12#$x' '!=' x ']'
+ python3 /root/mugen/libs/locallibs/remote_reboot.py wait --node 192.168.114.7 --waittime 'openEuler12#$'
usage: remote_reboot.py reboot|wait [-h] [--node NODE]
remote_reboot.py: error: argument --node: invalid int value: '192.168.114.7'
+ LOG_INFO 'Finish restoring the test environment.'
+ message='Finish restoring the test environment.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'Finish restoring the test environment.'
Wed Nov 22 04:30:26 2023 - INFO  - Finish restoring the test environment.
