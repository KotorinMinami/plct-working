+ mode=dynamic
+ getopt -o  --long static -n debian/tests/build -- --static
+ getopt_temp= --static --
+ eval set --  --static --
+ set -- --static --
+ true
+ mode=static
+ shift
+ continue
+ true
+ shift
+ break
+ mktemp -d
+ WORKDIR=/tmp/tmp.mhb9eKmVQ2
+ trap rm -rf "${WORKDIR}" 0 INT QUIT ABRT PIPE TERM
+ cd /tmp/tmp.mhb9eKmVQ2
+ [ -n  ]
+ CROSS_COMPILE=
+ cat
+ cat
+ cat
+ cat
+ cat
+ cat
+ cflags=
+ pcflags=
+ packages=glib-2.0
+ cflags=-static
+ pcflags=--static
+ pkg-config --static --cflags --libs glib-2.0
+ gcc -static -o glib-static glib.c -I/usr/include/glib-2.0 -I/usr/lib/riscv64-linux-gnu/glib-2.0/include -lglib-2.0 -pthread -lpcre
/usr/bin/ld: /lib/riscv64-linux-gnu/libglib-2.0.a(gutils.c.o): in function `.LVL43':
(.text+0x23a): warning: Using 'getpwuid' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking
/usr/bin/ld: /lib/riscv64-linux-gnu/libglib-2.0.a(gutils.c.o): in function `.L0 ':
(.text+0xdc): warning: Using 'getpwnam_r' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking
/usr/bin/ld: /lib/riscv64-linux-gnu/libglib-2.0.a(gutils.c.o): in function `.LVL18':
(.text+0x10e): warning: Using 'getpwuid_r' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking
+ echo build (glib, static): OK
+ [ -x glib-static ]
+ foo=bar ./glib-static
+ echo run (glib, static): OK
+ cflags=
+ pcflags=
+ packages=gobject-2.0
+ cflags=-static
+ pcflags=--static
+ pkg-config --static --cflags --libs gobject-2.0
+ gcc -static -o gobject-static gobject.c -I/usr/include/glib-2.0 -I/usr/lib/riscv64-linux-gnu/glib-2.0/include -lgobject-2.0 -pthread -lffi -lglib-2.0 -pthread -lpcre
/usr/bin/ld: /lib/riscv64-linux-gnu/libglib-2.0.a(gutils.c.o): in function `.LVL43':
(.text+0x23a): warning: Using 'getpwuid' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking
/usr/bin/ld: /lib/riscv64-linux-gnu/libglib-2.0.a(gutils.c.o): in function `.L0 ':
(.text+0xdc): warning: Using 'getpwnam_r' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking
/usr/bin/ld: /lib/riscv64-linux-gnu/libglib-2.0.a(gutils.c.o): in function `.LVL18':
(.text+0x10e): warning: Using 'getpwuid_r' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking
+ echo build (gobject, static): OK
+ [ -x gobject-static ]
+ foo=bar ./gobject-static
+ echo run (gobject, static): OK
+ cflags=
+ pcflags=
+ packages=gio-2.0
+ cflags=-static
+ pcflags=--static
+ pkg-config --static --cflags --libs gio-2.0
+ gcc -static -o gio-static gio.c -pthread -I/usr/include/libmount -I/usr/include/blkid -I/usr/include/glib-2.0 -I/usr/lib/riscv64-linux-gnu/glib-2.0/include -lgio-2.0 -ldl -pthread -lresolv -lgmodule-2.0 -pthread -ldl -lz -lmount -lblkid -lselinux -lsepol -lpcre2-8 -lgobject-2.0 -pthread -lffi -lglib-2.0 -pthread -lpcre
/usr/bin/ld: /lib/riscv64-linux-gnu/libgmodule-2.0.a(gmodule.c.o): in function `.L0 ':
(.text+0x682): warning: Using 'dlopen' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking
/usr/bin/ld: /lib/riscv64-linux-gnu/libgio-2.0.a(glocalfileinfo.c.o): in function `.LVL398':
(.text+0x10f6): warning: Using 'getgrgid_r' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking
/usr/bin/ld: /lib/riscv64-linux-gnu/libmount.a(la-utils.o): in function `.L0 ':
(.text+0x182c): warning: Using 'getgrnam_r' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking
/usr/bin/ld: /lib/riscv64-linux-gnu/libglib-2.0.a(gutils.c.o): in function `.LVL43':
(.text+0x23a): warning: Using 'getpwuid' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking
/usr/bin/ld: /lib/riscv64-linux-gnu/libmount.a(la-utils.o): in function `.L0 ':
(.text+0x1726): warning: Using 'getpwnam_r' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking
/usr/bin/ld: /lib/riscv64-linux-gnu/libgio-2.0.a(glocalfileinfo.c.o): in function `.L0 ':
(.text+0xf7a): warning: Using 'getpwuid_r' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking
/usr/bin/ld: /lib/riscv64-linux-gnu/libgio-2.0.a(ginetsocketaddress.c.o): in function `.L0 ':
(.text+0x984): warning: Using 'getaddrinfo' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking
/usr/bin/ld: /lib/riscv64-linux-gnu/libgio-2.0.a(gnetworkaddress.c.o): in function `.LVL544':
(.text+0x1490): warning: Using 'getservbyname' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking
/usr/bin/ld: /lib/riscv64-linux-gnu/libgio-2.0.a(gnetworkaddress.c.o): in function `.L0 ':
(.text+0x14b4): warning: Using 'endservent' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking
/usr/bin/ld: /lib/riscv64-linux-gnu/libgio-2.0.a(gthreadedresolver.c.o): in function `.LVL284':
(.text+0xa52): undefined reference to `__res_nquery'
/usr/bin/ld: /lib/riscv64-linux-gnu/libgio-2.0.a(gthreadedresolver.c.o): in function `.LVL312':
(.text+0xb2c): undefined reference to `__dn_expand'
/usr/bin/ld: /lib/riscv64-linux-gnu/libgio-2.0.a(gthreadedresolver.c.o): in function `.L0 ':
(.text+0xbaa): undefined reference to `__dn_expand'
/usr/bin/ld: (.text+0xc58): undefined reference to `__dn_expand'
/usr/bin/ld: (.text+0xd92): undefined reference to `__dn_expand'
/usr/bin/ld: (.text+0xdc0): undefined reference to `__dn_expand'
/usr/bin/ld: /lib/riscv64-linux-gnu/libgio-2.0.a(gthreadedresolver.c.o):(.text+0xdd6): more undefined references to `__dn_expand' follow
collect2: error: ld returned 1 exit status
+ rm -rf /tmp/tmp.mhb9eKmVQ2
